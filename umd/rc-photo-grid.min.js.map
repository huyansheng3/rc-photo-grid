{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 5ba3644ee9f7dda12e2b","webpack:///./src/index.js","webpack:///external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack:///./node_modules/classnames/index.js"],"names":["root","factory","exports","module","require","define","amd","self","this","__WEBPACK_EXTERNAL_MODULE_2__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","isString","str","PhotoGrid","state","photoInfos","renderPhotos","_props","props","unit","className","photoGridCls","__WEBPACK_IMPORTED_MODULE_1_classnames___default","__WEBPACK_IMPORTED_MODULE_0_react___default","a","createElement","map","photoInfo","width","height","url","key","style","flexGrow","paddingBottom","src","render","photos","loadImages","_this2","forEach","photo","window","image","Image","Promise","resolve","reject","onload","onerror","getRealImgDimension","then","setState","prevState","componentDidMount","__WEBPACK_IMPORTED_MODULE_0_react__","defaultProps","__webpack_exports__","__WEBPACK_AMD_DEFINE_RESULT__","hasOwn","classNames","classes","arguments","length","arg","argType","push","Array","isArray","apply","join","undefined"],"mappings":"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","file":"rc-photo-grid.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PhotoGrid\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"PhotoGrid\"] = factory(root[\"React\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5ba3644ee9f7dda12e2b","import React, { Component } from 'react'\nimport classnames from 'classnames'\nimport {\n  isRequired,\n  number,\n  string,\n  array,\n  arrayOf,\n  oneOfType,\n  shape,\n} from 'prop-types'\nimport './index.css'\n\nfunction getRealImgDimension(url) {\n  if (typeof window !== 'undefined') {\n    let image = new Image()\n    image.src = url\n    return new Promise((resolve, reject) => {\n      image.onload = () => {\n        resolve({\n          url,\n          width: image.width,\n          height: image.height,\n        })\n      }\n      image.onerror = () => {\n        reject()\n      }\n    })\n  }\n  return Promise.resolve({\n    url,\n    width: 1,\n    height: 1,\n  })\n}\n\nfunction isString(str) {\n  return typeof str === 'string'\n}\n\nclass PhotoGrid extends Component {\n  static defaultProps = {\n    unit: 200,\n    photos: [],\n  }\n\n  static propTypes = {\n    className: string,\n    unit: number.isRequired,\n    photos: oneOfType([\n      arrayOf(string).isRequired,\n      arrayOf(\n        shape({\n          url: string.isRequired,\n          width: number.isRequired,\n          height: number.isRequired,\n        })\n      ).isRequired,\n    ]),\n  }\n\n  state = { photoInfos: [] }\n\n  renderPhotos(photoInfos) {\n    const { unit, className } = this.props\n    const photoGridCls = classnames('photo-grid', className)\n    return (\n      <div className={photoGridCls}>\n        {photoInfos.map(photoInfo => {\n          const { width, height, url } = photoInfo\n          return (\n            <div\n              className=\"photo-grid-wrapper\"\n              key={url}\n              style={{\n                width: height ? width / height * unit : 0,\n                flexGrow: height ? width / height * unit : 0,\n              }}>\n              <i\n                style={{\n                  paddingBottom: `${width ? height / width * 100 : 0}%`,\n                }}\n              />\n              <img src={url} />\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n\n  render() {\n    const { photos } = this.props\n    if (isString(photos[0])) {\n      return this.renderPhotos(this.state.photoInfos)\n    }\n    return this.renderPhotos(photos)\n  }\n\n  loadImages() {\n    this.props.photos.forEach(photo =>\n      getRealImgDimension(photo).then(photoInfo => {\n        this.setState(prevState => {\n          return { photoInfos: [...prevState.photoInfos, photoInfo] }\n        })\n      })\n    )\n  }\n\n  componentDidMount() {\n    const { photos } = this.props\n    if (isString(photos[0])) {\n      this.loadImages()\n    }\n  }\n}\n\nexport default PhotoGrid\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}\n// module id = 2\n// module chunks = 0","/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/classnames/index.js\n// module id = 3\n// module chunks = 0"],"sourceRoot":""}